<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title>æ¥é€é ç´„è¡¨å–®</title>

<style>
:root{
  --font-base: 18px;
  --font-label: 17px;
  --radius: 10px;
}

*{box-sizing:border-box;}

body{
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
               "Noto Sans TC", "PingFang TC", sans-serif;
  margin:0;
  padding:16px;
  background:#f5f7fa;
  font-size:var(--font-base);
}

.container{
  max-width:640px;
  margin:auto;
  background:#fff;
  padding:18px;
  border-radius:14px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}

h2{
  text-align:center;
  margin-bottom:18px;
  font-size:22px;
}

label{
  display:block;
  margin:14px 0 6px;
  font-size:var(--font-label);
  font-weight:600;
}

input, select{
  width:100%;
  padding:14px;
  font-size:18px;
  border-radius:var(--radius);
  border:1px solid #ccc;
}

button{
  width:100%;
  padding:16px;
  font-size:19px;
  border-radius:var(--radius);
  border:none;
  cursor:pointer;
}

button[type="submit"]{
  margin-top:20px;
  background:linear-gradient(135deg,#10b981,#059669);
  color:white;
  font-weight:700;
}

button[type="button"]{
  background:#e5e7eb;
  margin-top:8px;
}

button:disabled{
  opacity:.6;
}

#message{
  display:none;
  margin-top:16px;
  padding:14px;
  text-align:center;
  border-radius:var(--radius);
  font-size:18px;
}

#message.success{
  background:#d1fae5;
  color:#065f46;
}

#message.error{
  background:#fee2e2;
  color:#991b1b;
}

/* æ‰‹æ©Ÿå†æ”¾å¤§ä¸€é» */
@media (max-width:480px){
  body{font-size:19px;}
  input,select{font-size:19px;}
  button{font-size:20px;}
}
</style>
</head>

<body>
<div class="container">
<h2>ğŸš— æ¥é€é ç´„è¡¨å–®</h2>

<form id="bookingForm">

<label>ğŸ“… æ—¥æœŸ</label>
<input type="date" id="date" required>

<label>ğŸ•’ å‡ºç™¼æ™‚é–“</label>
<input type="time" id="time" required>

<label>âœˆï¸ èˆªç­è™Ÿç¢¼</label>
<input type="text" id="flight" required>

<label>ğŸ¢ èˆªå»ˆ</label>
<select id="terminal" required>
  <option value="">è«‹é¸èˆªå»ˆ</option>
  <option value="T1">T1</option>
  <option value="T2">T2</option>
  <option value="T3">T3</option>
</select>

<label>ğŸ“ å‡ºç™¼åœ°</label>
<input type="text" id="start" required>

<label>ğŸ“ ç›®çš„åœ°</label>
<input type="text" id="end" required>

<label>ğŸš™ è»Šå‹</label>
<select id="car" required>
  <option value="">è«‹é¸è»Šå‹</option>
  <option value="èˆ’é©è½è»Š">èˆ’é©è½è»Š</option>
  <option value="äº”åº§ä¼‘æ—…">äº”åº§ä¼‘æ—…</option>
  <option value="7äººåº§">7äººåº§</option>
  <option value="8-9åº§å¤§è»Š">8-9åº§å¤§è»Š</option>
</select>

<label>ğŸ§³ è¡Œæå‚™è¨»</label>
<input type="text" id="luggageNote">

<label>ğŸª‘ å…’ç«¥åº§æ¤…</label>
<select id="childSeat" required>
  <option value="">è«‹é¸</option>
  <option value="ä¸éœ€è¦">ä¸éœ€è¦</option>
  <option value="å®‰å…¨åº§æ¤…">å®‰å…¨åº§æ¤…</option>
  <option value="å¢é«˜å¢Š">å¢é«˜å¢Š</option>
</select>

<label>ğŸ›£ï¸ ä¸­é€”åœé </label>
<input type="text" id="via" placeholder="å¯ç•™ç©º">

<label>ğŸ‘¤ å§“å</label>
<input type="text" id="name" required>

<label>ğŸ“± é›»è©±</label>
<input type="tel" id="phone" required>

<button type="submit">âœ… é€å‡ºé ç´„</button>
</form>

<div id="message"></div>
</div>

<script>
const WEB_APP_URL =
"https://script.google.com/macros/s/AKfycbwzW_ODiW6zX5u9qBlsZziHPVEXcbCDAIcvfNRZDsCOiB_kla6RozEZam4FWxKMC0WRIg/exec";

document.getElementById("date").value =
new Date().toISOString().slice(0,10);

document.getElementById("bookingForm").addEventListener("submit",async e=>{
  e.preventDefault();

  const btn=e.target.querySelector("button");
  btn.disabled=true;
  btn.textContent="é€å‡ºä¸­â€¦";

  const payload={
    date:date.value,
    time:time.value,
    flight:flight.value,
    terminal:terminal.value,
    start:start.value,
    end:end.value,
    car:car.value,
    luggageNote:luggageNote.value,
    childSeat:childSeat.value,
    via:via.value || "ç„¡",
    name:name.value,
    phone:phone.value
  };

  try{
    const res=await fetch(WEB_APP_URL,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify(payload)
    });
    const data=await res.json();
    showMsg(
      data.status==="ok"?"âœ… é ç´„å·²é€å‡º":"âŒ é€å‡ºå¤±æ•—",
      data.status==="ok"?"success":"error"
    );
    if(data.status==="ok") e.target.reset();
  }catch{
    showMsg("âŒ ç„¡æ³•é€£ç·š","error");
  }

  btn.disabled=false;
  btn.textContent="âœ… é€å‡ºé ç´„";
});

function showMsg(text,type){
  const m=document.getElementById("message");
  m.textContent=text;
  m.className=type;
  m.style.display="block";
  setTimeout(()=>m.style.display="none",5000);
}
</script>
</body>
</html>
