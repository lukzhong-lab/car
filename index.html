<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>æ¥é€é ç´„è¡¨å–®</title>
  <style>
    * { box-sizing: border-box; }
    html, body { 
      margin: 0; padding: 0; min-height: 100vh; 
      font-family: system-ui, -apple-system, sans-serif; 
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    }
    body { 
      max-width: 100%; padding: 15px; 
      display: flex; flex-direction: column; 
      min-height: 100vh; 
    }
    .container { max-width: 600px; margin: 0 auto; width: 100%; flex: 1; }
    h2 { 
      text-align: center; color: #1a1a1a; 
      margin: 20px 0 30px; font-size: 1.5rem; 
      font-weight: 700; 
    }
    label { 
      display: block; margin: 18px 0 8px; 
      font-weight: 600; color: #333; font-size: 1rem; 
    }
    input, select { 
      width: 100%; padding: 14px 16px; 
      border: 2px solid #e1e5e9; border-radius: 12px; 
      font-size: 16px; background: white; 
      transition: all 0.2s; 
    }
    input:focus, select:focus { 
      outline: none; border-color: #10b981; 
      box-shadow: 0 0 0 4px rgba(16,185,129,0.1); 
    }
    button { 
      width: 100%; padding: 16px; margin-top: 24px; 
      background: linear-gradient(135deg, #10b981, #059669); 
      color: white; border: none; border-radius: 12px; 
      font-size: 1.1rem; font-weight: 600; 
      cursor: pointer; transition: all 0.2s; 
    }
    button:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 8px 25px rgba(16,185,129,0.3); }
    button:disabled { background: #9ca3af; cursor: not-allowed; transform: none; }
    #message { 
      padding: 16px; margin-top: 20px; border-radius: 12px; 
      text-align: center; display: none; font-weight: 500; 
    }
    .success { background: #d1fae5; color: #065f46; border: 2px solid #a7f3d0; }
    .error { background: #fee2e2; color: #991b1b; border: 2px solid #fca5a5; }
    .note, .warning { 
      font-size: 0.9rem; color: #666; 
      margin: 4px 0 20px; line-height: 1.5; 
      background: rgba(255,255,255,0.8); padding: 12px; 
      border-radius: 8px; 
    }
    .warning {
      color: #c2410c;
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
    }
    @media (max-width: 480px) { 
      body { padding: 10px; } 
      h2 { font-size: 1.3rem; margin: 15px 0 25px; }
      input, select, button { padding: 16px 14px; font-size: 17px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>ğŸš— æ¥é€é ç´„è¡¨å–®</h2>
    
    <form id="bookingForm">
      <label>ğŸ“… æ—¥æœŸ</label>
      <input type="date" id="date" required>
      
      <label>ğŸ•’ å‡ºç™¼æ™‚é–“</label>
      <div class="warning">
        <strong>æé†’ï¼š</strong>å»ºè­°é€æ©Ÿå‰è‡³å°‘ 2 å°æ™‚æŠµé”èˆªç«™<br>
        ï¼ˆåœ‹éš›ç·šå»ºè­° 3 å°æ™‚ï¼Œåœ‹å…§ç·š 2 å°æ™‚ï¼‰
      </div>
      <input type="time" id="time" required>
      
      <label>âœˆï¸ èˆªç­è™Ÿç¢¼</label>
      <input type="text" id="flightNumber" placeholder="ä¾‹å¦‚ï¼šCI123 / BR456 / æ˜Ÿå®‡JX789" required>
      
      <label>ğŸ¢ èˆªå»ˆ</label>
      <select id="terminal" required>
        <option value="">è«‹é¸æ“‡èˆªå»ˆ</option>
        <option value="æ¡ƒåœ’ç¬¬ä¸€èˆªå»ˆ (T1)">æ¡ƒåœ’ç¬¬ä¸€èˆªå»ˆ (T1)</option>
        <option value="æ¡ƒåœ’ç¬¬äºŒèˆªå»ˆ (T2)">æ¡ƒåœ’ç¬¬äºŒèˆªå»ˆ (T2)</option>
        <option value="æ¡ƒåœ’ç¬¬ä¸‰èˆªå»ˆ (T3)">æ¡ƒåœ’ç¬¬ä¸‰èˆªå»ˆ (T3)</option>
        <option value="æ¾å±±æ©Ÿå ´">æ¾å±±æ©Ÿå ´</option>
        <option value="å°ä¸­æ¸…æ³‰å´—æ©Ÿå ´">å°ä¸­æ¸…æ³‰å´—æ©Ÿå ´</option>
        <option value="é«˜é›„åœ‹éš›æ©Ÿå ´">é«˜é›„åœ‹éš›æ©Ÿå ´</option>
        <option value="å…¶ä»–">å…¶ä»–ï¼ˆè«‹åœ¨å‚™è¨»èªªæ˜ï¼‰</option>
      </select>
      
      <label>ğŸ“ å‡ºç™¼åœ°</label>
      <input type="text" id="startAddress" placeholder="è«‹è¼¸å…¥å®Œæ•´åœ°å€ï¼ˆå«ç¸£å¸‚ã€è·¯åã€è™Ÿç¢¼ï¼‰" required>
      
      <label>ğŸ›£ï¸ ä¸­é€”åœé é»ï¼ˆé¸å¡«ï¼Œå¯å¤šå€‹ï¼Œç”¨é€—è™Ÿåˆ†éš”ï¼‰</label>
      <input type="text" id="viaPoints" placeholder="ä¾‹å¦‚ï¼šå°åŒ—è»Šç«™, æ¾å±±æ©Ÿå ´">
      
      <label>ğŸ“ ç›®çš„åœ°</label>
      <input type="text" id="endAddress" placeholder="è«‹è¼¸å…¥å®Œæ•´åœ°å€ï¼ˆå«ç¸£å¸‚ã€è·¯åã€è™Ÿç¢¼ï¼‰" required>
      
      <label>ğŸš™ è»Šå‹é¸æ“‡ï¼ˆå«è¡Œæåƒè€ƒï¼‰</label>
      <select id="carType" required>
        <option value="">è«‹é¸æ“‡è»Šå‹</option>
        <option value="èˆ’é©è½è»Šï¼ˆè¡Œæç´„1-2ä»¶ï¼‰">èˆ’é©è½è»Šï¼ˆè¡Œæç´„1-2ä»¶ï¼‰</option>
        <option value="äº”åº§ä¼‘æ—…ï¼ˆè¡Œæç´„3-4ä»¶ï¼‰">äº”åº§ä¼‘æ—…ï¼ˆè¡Œæç´„3-4ä»¶ï¼‰</option>
        <option value="7äººåº§ï¼ˆè¡Œæç´„3-4ä»¶ï¼‰">7äººåº§ï¼ˆè¡Œæç´„3-4ä»¶ï¼‰</option>
        <option value="8-9åº§å¤§è»Šï¼ˆè¡Œæ6ä»¶ä»¥ä¸Šï¼‰">8-9åº§å¤§è»Šï¼ˆè¡Œæ6ä»¶ä»¥ä¸Šï¼‰</option>
      </select>
      <div class="note">
        <strong>è»Šå‹èˆ‡è¡Œææé†’ï¼š</strong><br>
        è«‹ä¾å¯¦éš›è¡Œææ•¸é‡ï¼ˆå¤§å‹è¡Œæç®±ç‚ºä¸»ï¼‰é¸æ“‡é©åˆè»Šå‹ã€‚<br>
        è‹¥è¡Œæè¶…å¤šæˆ–æœ‰ç‰¹æ®Šç‰©å“ï¼Œè«‹åœ¨å‚™è¨»èªªæ˜ã€‚
      </div>
      
      <label>ğŸª‘ å…’ç«¥å®‰å…¨åº§æ¤… / å¢é«˜å¢Šéœ€æ±‚</label>
      <select id="childSeat" required>
        <option value="">è«‹é¸æ“‡</option>
        <option value="ä¸éœ€è¦">ä¸éœ€è¦</option>
        <option value="éœ€è¦å®‰å…¨åº§æ¤…">éœ€è¦å®‰å…¨åº§æ¤…ï¼ˆ0-4æ­²ï¼‰</option>
        <option value="éœ€è¦å¢é«˜å¢Š">éœ€è¦å¢é«˜å¢Šï¼ˆ4-12æ­²å»ºè­°ï¼‰</option>
      </select>
      <div class="note">
        <strong>âš ï¸ æ³•è¦æé†’ï¼š</strong><br>
        0~4æ­²å¹¼ç«¥å¿…é ˆä½¿ç”¨åˆæ ¼å®‰å…¨åº§æ¤…ï¼ˆå¾Œåº§ï¼‰ï¼Œ4~12æ­²å»ºè­°ä½¿ç”¨å¢é«˜å¢Šã€‚<br>
        æœªä½¿ç”¨å¯ç½°1,500~3,000å…ƒï¼Œè«‹ä¾å¯¦éš›å¹´é½¡/é«”é‡é¸æ“‡ã€‚
      </div>
      
      <label>ğŸ‘¤ å§“å</label>
      <input type="text" id="name" required>
      
      <label>ğŸ“± é›»è©±</label>
      <input type="tel" id="phone" placeholder="0912345678 æˆ– +886912345678" required>
      
      <button type="button" id="submitBtn">âœ… é€å‡ºé ç´„</button>
    </form>
    
    <div id="message"></div>
  </div>

  <!-- EmailJS SDK -->
  <script defer src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  
  <script>
    function initApp() {
      if (typeof emailjs === 'undefined') {
        console.warn('EmailJS SDK é‚„æœªè¼‰å…¥ï¼Œç¨å¾Œé‡è©¦...');
        setTimeout(initApp, 1000);
        return;
      }
      
      console.log('EmailJS SDK å·²è¼‰å…¥');
      
      emailjs.init({ publicKey: "3NaCLzxTOKYgHeXyP" });
      
      const today = new Date().toISOString().slice(0, 10);
      document.getElementById('date').value = today;
      
      const btn = document.getElementById('submitBtn');
      const msgDiv = document.getElementById('message');
      
      btn.addEventListener('click', async () => {
        if (btn.disabled) return;
        
        btn.disabled = true;
        btn.textContent = 'ğŸ“¤ é€å‡ºä¸­...';
        
        const params = {
          date: document.getElementById('date').value,
          time: document.getElementById('time').value,
          flight: document.getElementById('flightNumber').value.trim(),
          terminal: document.getElementById('terminal').value,
          start: document.getElementById('startAddress').value.trim(),
          via: document.getElementById('viaPoints').value.trim() || 'ç„¡',
          end: document.getElementById('endAddress').value.trim(),
          car: document.getElementById('carType').value,
          child