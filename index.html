<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ¥é€é ç´„è¡¨å–®</title>
<style>
:root {
  --radius: 10px;
  --bg-body: #111827;
  --bg-container: #1f2937;
  --text-primary: #f3f4f6;
  --text-secondary: #9ca3af;
  --border: #4b5563;
  --input-bg: #374151;
  --success-bg: #065f46;
  --success-text: #d1fae5;
  --error-bg: #7f1d1d;
  --error-text: #fee2e2;
}
*{box-sizing:border-box;}
body {
  font-family: system-ui, -apple-system, sans-serif;
  margin: 0;
  padding: 16px;
  background: var(--bg-body);
  color: var(--text-primary);
  font-size: 17px;
}
.container {
  max-width: 640px;
  margin: auto;
  background: var(--bg-container);
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.5);
}
h2 { text-align: center; margin: 0 0 24px; font-size: 24px; }
label { display: block; margin: 16px 0 6px; font-weight: 600; }
input, select {
  width: 100%;
  padding: 12px 14px;
  font-size: 17px;
  background: var(--input-bg);
  color: var(--text-primary);
  border: 1px solid var(--border);
  border-radius: var(--radius);
}
input::placeholder { color: #6b7280; }
button {
  width: 100%;
  padding: 14px;
  font-size: 18px;
  font-weight: 600;
  color: white;
  background: linear-gradient(135deg, #10b981, #059669);
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  margin-top: 24px;
}
button:disabled { opacity: 0.6; }
#message {
  display: none;
  margin-top: 16px;
  padding: 14px;
  border-radius: var(--radius);
  text-align: center;
  font-size: 17px;
}
#message.success { background: var(--success-bg); color: var(--success-text); }
#message.error { background: var(--error-bg); color: var(--error-text); }
.note { font-size: 14px; color: var(--text-secondary); margin-top: 4px; line-height: 1.4; }
iframe#hiddenFrame { display: none; }
@media (max-width:480px) { body, input, select, button { font-size: 18px; } }
</style>
</head>
<body>

<div class="container">
  <h2>ğŸš— æ¥é€é ç´„è¡¨å–®</h2>

  <iframe name="hiddenFrame" id="hiddenFrame"></iframe>

  <form id="bookingForm" 
        action="https://script.google.com/macros/s/AKfycbyU0ZEJNRPMSMr0J2ioiHrlp2aycWVHbW2o5htzv7KzCRMayeogxNK6gHUZNGgCppVT/exec" 
        method="POST" 
        target="hiddenFrame">

    <label>ğŸ“… æ—¥æœŸ</label>
    <input type="date" name="date" required>

    <label>ğŸ•’ å‡ºç™¼æ™‚é–“</label>
    <input type="time" name="time" required>
    <div class="note">
      â€» å»ºè­°æå‰æ™‚é–“ï¼š<br>
      â€¢ åœ‹éš›ç·šï¼š2.5â€“3 å°æ™‚å‰åˆ°æ©Ÿå ´<br>
      â€¢ åœ‹å…§ç·šï¼š1â€“1.5 å°æ™‚å‰åˆ°æ©Ÿå ´
    </div>

    <label>âœˆï¸ èˆªç­è™Ÿç¢¼</label>
    <input type="text" name="flight" required placeholder="ä¾‹ï¼šCI123">

    <label>ğŸ¢ èˆªå»ˆ</label>
    <select name="terminal" required>
      <option value="">è«‹é¸æ“‡</option>
      <option value="T1">T1</option>
      <option value="T2">T2</option>
      <option value="T3">T3</option>
    </select>

    <label>ğŸ“ å‡ºç™¼åœ°</label>
    <input type="text" name="start" required placeholder="ä¾‹ï¼šå°ä¸­å¸‚è¥¿å±¯å€">

    <label>ğŸ›£ï¸ ä¸­é€”åœé ï¼ˆå¯å¤šå€‹ï¼Œç”¨ + åˆ†éš”ï¼‰</label>
    <input type="text" name="via" placeholder="ä¾‹ï¼šå°ä¸­ç«è»Šç«™+é«˜éµå°ä¸­ç«™">

    <label>ğŸ“ ç›®çš„åœ°</label>
    <input type="text" name="end" required list="airportList" placeholder="ä¾‹ï¼šæ¡ƒåœ’åœ‹éš›æ©Ÿå ´ æˆ– å…¶ä»–åœ°å€">
    <datalist id="airportList">
      <option value="æ¡ƒåœ’åœ‹éš›æ©Ÿå ´">
      <option value="æ¾å±±åœ‹éš›æ©Ÿå ´">
    </datalist>

    <label>ğŸš™ è»Šå‹ï¼ˆè¡Œæåƒè€ƒï¼‰</label>
    <select name="car" required>
      <option value="">è«‹é¸æ“‡</option>
      <option value="èˆ’é©è½è»Š">èˆ’é©è½è»Šï¼ˆ1â€“2 ä»¶ï¼‰</option>
      <option value="äº”åº§ä¼‘æ—…">äº”åº§ä¼‘æ—…ï¼ˆ3â€“4 ä»¶ï¼‰</option>
      <option value="7äººåº§">7äººåº§ï¼ˆ3â€“4 ä»¶ï¼‰</option>
      <option value="8-9åº§å¤§è»Š">8-9åº§å¤§è»Šï¼ˆ6ä»¶â†‘ï¼‰</option>
    </select>
    <div class="note">â€» è¡Œæä»¶æ•¸ç‚º28â€“30å‹å¤§å‹è¡Œæä¼°è¨ˆï¼›ç‰¹æ®Šè¡Œæè«‹æ–¼å‚™è¨»èªªæ˜</div>

    <label>ğŸ§³ è¡Œæå‚™è¨»</label>
    <input type="text" name="luggageNote" placeholder="ä¾‹ï¼š2å¤§2å° + å¬°å…’è»Š">

    <label>ğŸª‘ å…’ç«¥åº§æ¤…</label>
    <select name="childSeat">
      <option value="ä¸éœ€è¦" selected>ä¸éœ€è¦</option>
      <option value="å®‰å…¨åº§æ¤…">å®‰å…¨åº§æ¤…</option>
      <option value="å¢é«˜å¢Š">å¢é«˜å¢Š</option>
    </select>

    <label>ğŸ‘¤ å§“å</label>
    <input type="text" name="name" required>

    <label>ğŸ“± é›»è©±</label>
    <input type="tel" name="phone" required placeholder="ä¾‹ï¼š0912345678">

    <button type="submit">é€å‡ºé ç´„</button>
  </form>

  <div id="message"></div>
</div>

<script>
// èˆªç­è‡ªå‹•è½‰å¤§å¯«
document.querySelector('[name="flight"]').addEventListener("blur", function(e) {
  this.value = this.value.trim().toUpperCase();
});

// æ—¥æœŸé è¨­ä»Šå¤©
document.querySelector('[name="date"]').value = new Date().toISOString().slice(0,10);

const form = document.getElementById("bookingForm");
const btn = form.querySelector("button");
const msgDiv = document.getElementById("message");

form.addEventListener("submit", function(e) {
  // ç°¡å–®å‰ç«¯é©—è­‰
  let valid = true;
  form.querySelectorAll("[required]").forEach(el => {
    if (!el.value.trim()) valid = false;
  });
  if (!valid) {
    e.preventDefault();
    showMsg("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½", "error");
    return;
  }

  btn.disabled = true;
  btn.textContent = "è™•ç†ä¸­â€¦";
  showMsg("æ­£åœ¨é€å‡ºï¼Œè«‹ç¨å€™...", "success");
});

// æäº¤å®Œæˆå¾Œï¼ˆiframe è¼‰å…¥ï¼‰
document.getElementById("hiddenFrame").addEventListener("load", function() {
  showMsg("é ç´„å·²é€å‡ºï¼Œæˆ‘å€‘æœƒç›¡å¿«ç¢ºèªï¼", "success");
  form.reset();
  document.querySelector('[name="date"]').value = new Date().toISOString().slice(0,10);
  document.querySelector('[name="childSeat"]').value = "ä¸éœ€è¦";
  btn.disabled = false;
  btn.textContent = "é€å‡ºé ç´„";
});

function showMsg(text, type) {
  msgDiv.textContent = text;
  msgDiv.className = type;
  msgDiv.style.display = "block";
  setTimeout(() => { msgDiv.style.display = "none"; }, 8000);
}
</script>
</body>
</html>